<script>
window.onload = function () {

/*
var createLineChart = function() {
    var sleepCountSixDaysAgo = parseInt(document.getElementById('sleepzero').innerHTML);
    var sleepCountFiveDaysAgo = parseInt(document.getElementById('sleepone').innerHTML);
    var sleepCountFourDaysAgo = parseInt(document.getElementById('sleeptwo').innerHTML);
    var sleepCountThreeDaysAgo = parseInt(document.getElementById('sleepthree').innerHTML);
    var sleepCountTwoDaysAgo = parseInt(document.getElementById('sleepfour').innerHTML);
    var sleepCountOneDaysAgo = parseInt(document.getElementById('sleepfive').innerHTML);
    var sleepCountZeroDaysAgo = parseInt(document.getElementById('sleepsix').innerHTML);

        var lineChart = new CanvasJS.Chart("lineChartContainer", {
                theme: "theme2",//theme1
                title:{
                    text: "Sleep Count!"              
               },
                data: [              
                {
  // Change type to "bar", "splineArea", "area", "spline", "pie",etc.
                    type: "spline",
                    dataPoints: [
                    { label: "7 days ago", y: sleepCountSixDaysAgo },
                    { label: "6 days ago", y: sleepCountFiveDaysAgo },
                    { label: "5 days ago", y: sleepCountFourDaysAgo },
                    { label: "4 days ago", y: sleepCountThreeDaysAgo },
                    { label: "3 days ago", y: sleepCountTwoDaysAgo },
                    { label: "2 days ago", y: sleepCountOneDaysAgo },
                    { label: "1 days ago", y: sleepCountZeroDaysAgo }
                    ]
                }
                ]
            });
        lineChart.render()
};

*/
  var createBarChart = function() {
    var last7 = JSON.parse('<%= @last7.values.to_json.html_safe %>' )
            var barChart = new CanvasJS.Chart("barChartContainer", {
                theme: "theme2",//theme1
                title:{
                    text: "Step Count!"              
               },
                data: [              
                {
  // Change type to "bar", "splineArea", "area", "spline", "pie",etc.
                    type: "column",
                    dataPoints: [
                    { label: "7 days ago", y: parseInt(last7[0]) },
                    { label: "6 days ago", y: parseInt(last7[1]) },
                    { label: "5 days ago", y: parseInt(last7[2]) },
                    { label: "4 days ago", y: parseInt(last7[3]) },
                    { label: "3 days ago", y: parseInt(last7[4])},
                    { label: "2 days ago", y: parseInt(last7[5]) },
                    { label: "1 days ago", y: parseInt(last7[6]) }
                    ]
                }
                ]
            });
            barChart.render();

  };

  createBarChart();
  //createLineChart();
};

  </script>